(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{44:function(e,t,c){},47:function(e,t,c){},53:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(10),a=c.n(r),s=(c(44),c(45),c(1)),o=function(){return Object(s.jsx)("footer",{className:"footer text-white bg-secondary mt-5",children:Object(s.jsx)("div",{className:"container p-3",children:Object(s.jsx)("span",{children:"\xa9 L\xe9o Hengebaert"})})})},i=(c(47),c(13)),l=function(){return Object(s.jsx)("header",{children:Object(s.jsxs)("div",{className:"d-flex flex-column flex-md-row p-3 border-bottom bg-secondary text-white",children:[Object(s.jsx)("h4",{className:"mr-md-auto",children:Object(s.jsx)("a",{href:"/",className:"text-decoration-none text-white",children:"BOOKS"})}),Object(s.jsxs)("nav",{className:"btn-group",children:[Object(s.jsx)(i.b,{to:"/",className:"btn btn-light",children:"Accueil"}),Object(s.jsx)(i.b,{to:"/search",className:"btn btn-light",children:"Rechercher"})]})]})})},d=c(9),j=c(19),u=(c(53),c(11)),b="ADD_BOOKS",h="DELETE_BOOK",O="DELETE_ALL_BOOKS",m="FETCH_BOOKS_LOADING",f="FETCH_BOOKS_SUCCESS",x="FETCH_BOOKS_ERROR",p=function(e){return{type:b,payload:e}},g=c(36),v=Object(u.b)((function(e){return{libraryData:e.library}}),(function(e){return{addBook:function(t){return e(p(t))},deleteBook:function(t){return e(function(e){return{type:h,payload:e}}(t))},deleteAll:function(){return e({type:O})}}}))((function(e){var t=e.libraryData,c=e.addBook,r=e.deleteBook,a=e.deleteAll,o={title:"",author:""},i=Object(n.useState)(o),l=Object(j.a)(i,2),u=l[0],b=l[1],h=t.length>0?Object(s.jsx)(g.a,{children:t.map((function(e){return Object(s.jsxs)("li",{className:"list-group-item list-group-item-light d-flex justify-content-between",children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"Titre :"})," ",e.title]}),Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"Auteur :"})," ",e.author]}),Object(s.jsx)("span",{className:"btn btn-danger",onClick:function(){return r(e.id)},children:"X"})]},e.id)}))}):Object(s.jsx)("p",{className:"text-center",children:"Aucune data \xe0 afficher"}),O=t.length>0&&Object(s.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(s.jsx)("button",{className:"btn btn-danger mt-4 mb-5",onClick:function(){return a()},children:"Effacer tous les livres"}),JSON.stringify(u)]});return Object(s.jsxs)("main",{role:"main",children:[Object(s.jsx)("div",{className:"jumbotron container-fluid",children:Object(s.jsxs)("div",{className:"container text-center",children:[Object(s.jsx)("h1",{className:"display-4",children:"BOOKS"}),Object(s.jsx)("p",{children:"Ajouter un livre \xe0 votre biblioth\xe8que"}),Object(s.jsxs)("form",{className:"form-inline justify-content-center plus",onSubmit:function(e){e.preventDefault(),c(u),b(o)},children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{value:u.title,type:"text",className:"form-control",placeholder:"Titre",required:!0,onChange:function(e){return b(Object(d.a)(Object(d.a)({},u),{},{title:e.target.value}))}})}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{value:u.author,type:"text",className:"form-control ml-3",placeholder:"Auteur",required:!0,onChange:function(e){return b(Object(d.a)(Object(d.a)({},u),{},{author:e.target.value}))}})}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("button",{className:"btn btn-outline-secondary m1-3",children:"Ajouter un livre"})})]})]})}),Object(s.jsx)("div",{className:"container",style:{minHeight:"200px"},children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-md-12",children:[Object(s.jsx)("ul",{className:"list-group",children:h}),O]})})})]})})),N=c(3),y=c(37),k=c.n(y),S=function(e){return function(t){t({type:m}),k.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&key=").concat("AIzaSyAtyJYUXbgicVAuOnthCUrFIdxdRMxcRZE","&maxResults=20")).then((function(e){var c=e.data.items;t({type:f,payload:c})})).catch((function(e){t(function(e){return{type:x,payload:e}}(e.message))}))}},I=c(21);c(73);I.a.configure();var B=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(u.d)((function(e){return e.search})),o=Object(u.c)();console.log(a);var i=a.isLoading?Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("div",{className:"spinner-border text-info",role:"status",children:Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})})}):""!==a.error?Object(s.jsx)("p",{children:a.error}):a.fetchedBooks.map((function(e){return Object(s.jsxs)("div",{className:"card mb-2",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h5",{className:"mb-0",children:Object(s.jsx)("button",{className:"btn btn-link collapsed","data-toggle":"collapse","data-target":"#".concat(e.id),"aria-expanded":"false",children:e.volumeInfo.title})})}),Object(s.jsx)("div",{id:e.id,className:"collapse","data-parent":"#accordion",children:Object(s.jsxs)("div",{className:"card-body",children:[e.volumeInfo.hasOwnProperty("imageLinks")&&Object(s.jsx)("img",{src:e.volumeInfo.imageLinks.thumbnail,alt:e.volumeInfo.title}),Object(s.jsx)("br",{}),Object(s.jsxs)("h4",{className:"card-title",children:["Titre: ",e.volumeInfo.title]}),Object(s.jsxs)("h5",{className:"card-title",children:["Auteurs: ",e.volumeInfo.authors]}),Object(s.jsxs)("p",{className:"card-text",children:["Description: ",e.volumeInfo.description]}),Object(s.jsx)("a",{className:"btn btn-outline-secondary",target:"_blank",rel:"noopener noreferrer",href:e.volumeInfo.previewLink,children:"Plus d'infos"}),Object(s.jsx)("button",{className:"btn btn-outline-secondary ml-3",onClick:function(){return function(e,t){o(p({title:e,author:t})),I.a.info("Livre enregistr\xe9",{position:I.a.POSITION.BOTTOM_RIGHT})}(e.volumeInfo.title,e.volumeInfo.authors)},children:"Enregistrer"})]})})]},e.id)}));return Object(s.jsxs)("main",{role:"main",children:[Object(s.jsx)("div",{className:"jumbotron jumbotron-fluid",children:Object(s.jsxs)("div",{className:"container text-center",children:[Object(s.jsx)("h1",{className:"display-4",children:"BOOKS"}),Object(s.jsx)("p",{children:"Indiquez le sujet du livre \xe0 rechercher sur Google API"}),Object(s.jsxs)("form",{className:"form-inline justify-content-center",onSubmit:function(e){e.preventDefault(),o(S(c))},children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Quoi rechercher ?",required:!0,value:c,onChange:function(e){return r(e.target.value)}})}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("button",{className:"btn btn-outline-secondary ml-3",children:"Rechercher"})})]})]})}),Object(s.jsx)("div",{className:"container",style:{minHeight:"200px"},children:Object(s.jsx)("div",{id:"accordion",children:i})})]})};var A=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(i.a,{children:[Object(s.jsx)(l,{}),Object(s.jsxs)(N.c,{children:[Object(s.jsx)(N.a,{path:"/",component:v}),Object(s.jsx)(N.a,{exact:!0,path:"/search",component:B})]}),Object(s.jsx)(o,{})]})})},L=c(20),w=c(39),D=c(76),E={books:[]},C=function(e){return{id:Object(D.a)(),title:e.payload.title,author:e.payload.author}},T=function(e,t){return e.filter((function(e){return e.id!==t}))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.books,t=arguments.length>1?arguments[1]:void 0;switch(localStorage.getItem("booksData")&&(e=JSON.parse(localStorage.getItem("booksData"))),t.type){case b:return e=[].concat(Object(w.a)(e),[C(t)]),localStorage.setItem("booksData",JSON.stringify(e)),e;case h:return e=T(e,t.payload),localStorage.setItem("booksData",JSON.stringify(e)),e;case O:return e=[],localStorage.setItem("booksData",JSON.stringify(e)),e;default:return e}},K={isLoading:!1,fetchedBooks:[],error:""},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0});case f:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,fetchedBooks:t.payload,error:""});case x:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,fetchedBooks:[],error:t.payload});default:return e}},J=c(38),H=Object(L.b)({library:_,search:R}),q=Object(L.c)(H,Object(L.a)(J.a));a.a.render(Object(s.jsx)(u.a,{store:q,children:Object(s.jsx)(A,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.5db51c6e.chunk.js.map